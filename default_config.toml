# AgTerm Default Configuration
# This file contains default values and is embedded in the binary.
# Override these values in ~/.config/agterm/config.toml or .agterm/config.toml

[general]
app_name = "agterm"
# default_shell is auto-detected from $SHELL
# default_shell = "/bin/zsh"
# default_working_dir = "~"

# Session management
[general.session]
restore_on_startup = true      # Restore previous session on startup
save_on_exit = true            # Save session on exit
# session_file = "~/.config/agterm/session.json"

# ============================================================================
# Appearance Settings
# ============================================================================

[appearance]
font_family = "D2Coding"
font_size = 14.0
theme = "default"
background_opacity = 1.0
use_ligatures = true

# Optional: Custom color scheme (overrides theme)
# [appearance.color_scheme]
# background = "#17171c"
# foreground = "#edeff2"
# cursor = "#5c8afa"
# selection = "#383847"
# # ANSI colors
# black = "#000000"
# red = "#eb6473"
# green = "#59c78c"
# yellow = "#f2c55c"
# blue = "#5c8afa"
# magenta = "#8c5cfa"
# cyan = "#5cc8fa"
# white = "#cccccc"
# # Bright colors
# bright_black = "#808080"
# bright_red = "#ff6f7f"
# bright_green = "#6fd398"
# bright_yellow = "#ffd168"
# bright_blue = "#68a0ff"
# bright_magenta = "#9868ff"
# bright_cyan = "#68d4ff"
# bright_white = "#ffffff"

# ============================================================================
# Terminal Behavior
# ============================================================================

[terminal]
scrollback_lines = 10000
cursor_style = "block"           # block, underline, beam
cursor_blink = true
cursor_blink_interval_ms = 530
bell_enabled = true
bell_style = "visual"            # visual, sound, both, none
bell_volume = 0.5                # 0.0 to 1.0 (50% by default)
visual_flash = true              # Enable visual flash effect
flash_color = "#FFFFFF80"        # Flash color in hex format (#RRGGBB or #RRGGBBAA)
flash_duration_ms = 100          # Flash duration in milliseconds
bracketed_paste = true
auto_scroll_on_output = true

# ============================================================================
# Keybindings
# ============================================================================

[keybindings]
mode = "default"                 # default, vim, emacs

# Custom keybindings (example)
# [keybindings.custom]
# "Ctrl+Shift+C" = "copy"
# "Ctrl+Shift+V" = "paste"
# "Ctrl+Shift+F" = "search"
# "Ctrl+Shift+N" = "new_window"

# Keyboard repeat settings
[keybindings.keyboard]
repeat_delay_ms = 500            # Initial delay before repeat starts (ms)
repeat_rate_ms = 30              # Interval between repeats (ms) - 30ms â‰ˆ 33 keys/sec

# Key bindings are loaded from ~/.config/agterm/keybindings.toml
# To customize keybindings, create that file with the following format:
#
# Example keybindings.toml:
# [[bindings]]
# key = "t"
# modifiers = { cmd = true }
# action = "new_tab"
# description = "Open a new tab"
#
# [[bindings]]
# key = "w"
# modifiers = { cmd = true, shift = true }
# action = "close_tab"
# description = "Close current tab"
#
# Available actions:
# - new_tab, close_tab, next_tab, prev_tab, duplicate_tab
# - select_tab_1 through select_tab_9
# - force_copy, paste, force_paste
# - clear_screen, scroll_to_top, scroll_to_bottom
# - increase_font_size, decrease_font_size, reset_font_size
# - toggle_debug_panel
# - split_horizontal, split_vertical
#
# Available modifiers: ctrl, shift, alt, cmd

# ============================================================================
# Shell Configuration
# ============================================================================

[shell]
# program = "/bin/zsh"
# args = ["--login"]
login_shell = true

# Environment variables to set for shell
# [shell.env]
# TERM = "xterm-256color"
# COLORTERM = "truecolor"

# ============================================================================
# Mouse Configuration
# ============================================================================

[mouse]
enabled = true
reporting = true                 # Allow applications to receive mouse events
selection_mode = "character"     # character, word, line
copy_on_select = true
middle_click_paste = true

# ============================================================================
# PTY Configuration
# ============================================================================

[pty]
max_sessions = 32
default_cols = 120
default_rows = 40
scrollback_lines = 10000

# ============================================================================
# MCP (Model Context Protocol) - Future feature
# ============================================================================

[mcp]
timeout_secs = 30
retry_attempts = 3
retry_delay_secs = 5

# Example MCP server configuration:
# [[mcp.servers]]
# name = "filesystem"
# transport = "stdio"
# command = "npx"
# args = ["-y", "@anthropic/mcp-filesystem-server"]
# auto_connect = true

# [[mcp.servers]]
# name = "github"
# transport = "stdio"
# command = "npx"
# args = ["-y", "@anthropic/mcp-github-server"]
# auto_connect = true
# [mcp.servers.env]
# GITHUB_TOKEN = "${GITHUB_TOKEN}"

# ============================================================================
# Storage - Future feature
# ============================================================================

[storage]
# database_path = "~/.local/share/agterm/agterm.db"
# logs_dir = "~/.local/share/agterm/logs"
compression_level = "compacted"  # raw, compacted, summarized
archive_retention_days = 90
ai_summarization = false
# ai_provider = "ollama"

# ============================================================================
# TUI Settings
# ============================================================================

[tui]
target_fps = 60
show_line_numbers = false
theme = "default"
mouse_support = true
keybindings = "default"          # default, vim, emacs

# ============================================================================
# Logging
# ============================================================================

[logging]
level = "info"                   # trace, debug, info, warn, error
format = "pretty"                # pretty, compact, json
timestamps = true
file_line = false
file_output = true               # Enable file output
# file_path = auto               # macOS: ~/Library/Application Support/agterm/logs
                                 # Linux: ~/.local/share/agterm/logs
                                 # Windows: %APPDATA%\agterm\logs

# ============================================================================
# Debug Panel
# ============================================================================

[debug]
enabled = false                  # Enable debug panel on startup (or set AGTERM_DEBUG=1)
show_fps = true                  # Show FPS in debug panel
show_pty_stats = true            # Show PTY statistics
log_buffer_size = 50             # Number of log entries to keep in debug panel
