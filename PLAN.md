# AgTerm - AI Agent Terminal Orchestrator

## í”„ë¡œì íŠ¸ ê°œìš”

**AgTerm**ì€ AI ì—ì´ì „íŠ¸ ì›Œí¬í”Œë¡œìš°ë¥¼ ì‹œê°ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ì°¨ì„¸ëŒ€ í„°ë¯¸ë„ ì—ë®¬ë ˆì´í„°ì…ë‹ˆë‹¤.
Claude Code, MCP ì„œë²„, Skills ë“±ì„ ë„¤ì´í‹°ë¸Œë¡œ ì§€ì›í•˜ë©°, ì‘ì—…ì„ Tree í˜•íƒœë¡œ ë¶„ê¸°í•˜ì—¬ ë³‘ë ¬ ì²˜ë¦¬í•˜ê³  ì§„í–‰ ìƒí™©ì„ ì‹¤ì‹œê°„ ê·¸ë˜í”„ë¡œ ì‹œê°í™”í•©ë‹ˆë‹¤.

---

## í•µì‹¬ ê¸°ëŠ¥

### 1. ë©€í‹° í„°ë¯¸ë„ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
- í•˜ë‚˜ì˜ íƒ­/ë””ë ‰í† ë¦¬ì—ì„œ ë¶„í• /ì¤‘ì²©ëœ ì—¬ëŸ¬ í„°ë¯¸ë„ ìƒì„±
- ë³‘ë ¬ ì‘ì—… ì‹¤í–‰ ë° ìë™ ì¢…ë£Œ
- ë¶€ëª¨-ìì‹ ê´€ê³„ì˜ í„°ë¯¸ë„ íŠ¸ë¦¬ êµ¬ì¡°

### 2. MCP (Model Context Protocol) ë„¤ì´í‹°ë¸Œ ì§€ì›
- MCP ì„œë²„/í´ë¼ì´ì–¸íŠ¸ ë‚´ì¥
- Tools, Resources, Prompts ì§ì ‘ í˜¸ì¶œ
- Skills ì‹œìŠ¤í…œ í†µí•©

### 3. ì‘ì—… íŠ¸ë¦¬ ì‹œê°í™”
- Tree í˜•íƒœë¡œ ì‘ì—… ë¶„ê¸° í‘œì‹œ
- ì‹¤ì‹œê°„ ì§„í–‰ë¥  ë° ìƒíƒœ í‘œì‹œ
- ë…¸ë“œë³„ ìƒì„¸ ì •ë³´ í™•ì¸

### 4. ì„¸ì…˜ ì•„ì¹´ì´ë¹™
- ì‘ì—… ë‚´ì—­ compact ì €ì¥
- ë‹¤ìŒ ì„¸ì…˜ì—ì„œ ì»¨í…ìŠ¤íŠ¸ í™œìš©
- ê²€ìƒ‰ ê°€ëŠ¥í•œ íˆìŠ¤í† ë¦¬

---

## ê¸°ìˆ  ìŠ¤íƒ

### Core
| êµ¬ì„±ìš”ì†Œ | ë¼ì´ë¸ŒëŸ¬ë¦¬ | ìš©ë„ |
|---------|-----------|------|
| PTY ê´€ë¦¬ | [portable-pty](https://docs.rs/portable-pty) | í¬ë¡œìŠ¤ í”Œë«í¼ í„°ë¯¸ë„ ì²˜ë¦¬ |
| TUI í”„ë ˆì„ì›Œí¬ | [ratatui](https://ratatui.rs/) | í„°ë¯¸ë„ UI ë Œë”ë§ |
| í„°ë¯¸ë„ ë°±ì—”ë“œ | [crossterm](https://docs.rs/crossterm) | ì €ìˆ˜ì¤€ í„°ë¯¸ë„ ì œì–´ |
| ë¹„ë™ê¸° ëŸ°íƒ€ì„ | [tokio](https://tokio.rs/) | ë³‘ë ¬ ì‘ì—… ìŠ¤ì¼€ì¤„ë§ |
| MCP SDK | [rmcp](https://github.com/modelcontextprotocol/rust-sdk) | MCP í”„ë¡œí† ì½œ êµ¬í˜„ |

### ë°ì´í„° & ì‹œê°í™”
| êµ¬ì„±ìš”ì†Œ | ë¼ì´ë¸ŒëŸ¬ë¦¬ | ìš©ë„ |
|---------|-----------|------|
| ê·¸ë˜í”„ ìë£Œêµ¬ì¡° | [petgraph](https://github.com/petgraph/petgraph) | ì‘ì—… íŠ¸ë¦¬ ê´€ë¦¬ |
| ì§ë ¬í™” | [serde](https://serde.rs/) + [bincode](https://docs.rs/bincode) | ì„¸ì…˜ ì €ì¥/ë³µì› |
| ë¡œê¹… | [tracing](https://docs.rs/tracing) | êµ¬ì¡°í™”ëœ ë¡œê¹… |
| ì„¤ì • ê´€ë¦¬ | [config-rs](https://docs.rs/config) + [directories](https://docs.rs/directories) | XDG í‘œì¤€ ì„¤ì • |

---

## ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        AgTerm Application                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   TUI Layer â”‚  â”‚ Graph View  â”‚  â”‚    Status Bar           â”‚  â”‚
â”‚  â”‚  (ratatui)  â”‚  â”‚ (Tree Viz)  â”‚  â”‚  (Progress/Stats)       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                â”‚                      â”‚                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     Orchestration Engine                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Task Managerâ”‚  â”‚Session Storeâ”‚  â”‚    Event Bus            â”‚  â”‚
â”‚  â”‚  (petgraph) â”‚  â”‚  (bincode)  â”‚  â”‚    (tokio channels)     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                â”‚                      â”‚                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      Terminal Layer                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  PTY Pool   â”‚  â”‚ MCP Client  â”‚  â”‚    Skills Runtime       â”‚  â”‚
â”‚  â”‚(portable-ptyâ”‚  â”‚   (rmcp)    â”‚  â”‚    (custom)             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## UI ë ˆì´ì•„ì›ƒ ì„¤ê³„

### ê¸°ë³¸ ë ˆì´ì•„ì›ƒ (ë¶„í•  ëª¨ë“œ)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ ~/project  â”‚  AgTerm v0.1.0  â”‚  3 tasks â”‚ 2 running  â”‚ 12:34 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸŒ³ Task Tree         â”‚  â”‚ Terminal #1 (main)               â”‚ â”‚
â”‚  â”‚                      â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚  â”‚ â— main [running]     â”‚  â”‚ $ npm run build                  â”‚ â”‚
â”‚  â”‚ â”œâ”€â—‹ test [pending]   â”‚  â”‚ > Building project...            â”‚ â”‚
â”‚  â”‚ â”œâ”€â— lint [running]   â”‚  â”‚ > Compiled 42 modules            â”‚ â”‚
â”‚  â”‚ â”‚ â””â”€â—‹ fix [queued]   â”‚  â”‚                                  â”‚ â”‚
â”‚  â”‚ â””â”€âœ“ format [done]    â”‚  â”‚                                  â”‚ â”‚
â”‚  â”‚                      â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                      â”‚  â”‚ Terminal #2 (lint)    [running]  â”‚ â”‚
â”‚  â”‚                      â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚  â”‚                      â”‚  â”‚ $ eslint src/ --fix              â”‚ â”‚
â”‚  â”‚                      â”‚  â”‚ > Checking 128 files...          â”‚ â”‚
â”‚  â”‚   [+] Add Task       â”‚  â”‚ > â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  45%         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [F1] Help  [F2] Tree  [F3] Split  [F4] MCP  [F5] Archive  [Esc] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê·¸ë˜í”„ ë·° ëª¨ë“œ (ì „ì²´í™”ë©´)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š Task Flow Graph                              [Press q to exit]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚                    â”‚   START     â”‚                               â”‚
â”‚                    â”‚  10:23:45   â”‚                               â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                           â”‚                                      â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚              â”‚            â”‚            â”‚                         â”‚
â”‚              â–¼            â–¼            â–¼                         â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚       â”‚  BUILD   â”‚ â”‚   TEST   â”‚ â”‚   LINT   â”‚                     â”‚
â”‚       â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ â”‚ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ â”‚                     â”‚
â”‚       â”‚   100%   â”‚ â”‚   45%    â”‚ â”‚   72%    â”‚                     â”‚
â”‚       â”‚ âœ“ 2m 34s â”‚ â”‚ â³ 1m 12sâ”‚ â”‚ â³ 0m 45sâ”‚                     â”‚
â”‚       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚            â”‚            â”‚            â”‚                           â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                         â–¼                                        â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚                  â”‚  DEPLOY  â”‚                                    â”‚
â”‚                  â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚                                    â”‚
â”‚                  â”‚ pending  â”‚                                    â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Nodes: 5 â”‚ Running: 2 â”‚ Completed: 1 â”‚ Pending: 2 â”‚ ETA: ~3m    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### MCP/Skills íŒ¨ë„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”Œ MCP Servers & Skills                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Connected Servers:                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â— context-7        â”‚ resolve-library-id, get-library-docs  â”‚ â”‚
â”‚  â”‚ â— filesystem       â”‚ read_file, write_file, list_directory â”‚ â”‚
â”‚  â”‚ â—‹ github (offline) â”‚ create_issue, create_pr, search_code  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  Available Skills:                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ /commit      â”‚ Git commit with AI message generation       â”‚ â”‚
â”‚  â”‚ /review      â”‚ Code review with Momus agent                â”‚ â”‚
â”‚  â”‚ /plan        â”‚ Strategic planning with Prometheus          â”‚ â”‚
â”‚  â”‚ /deepsearch  â”‚ Thorough codebase exploration               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  Quick Actions: [c] Call Tool  [s] Run Skill  [r] Refresh       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ë°ì´í„° ëª¨ë¸

### Task Node
```rust
#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct TaskNode {
    pub id: Uuid,
    pub name: String,
    pub command: String,
    pub status: TaskStatus,
    pub pty_id: Option<PtyId>,
    pub started_at: Option<DateTime<Utc>>,
    pub completed_at: Option<DateTime<Utc>>,
    pub exit_code: Option<i32>,
    pub output_summary: String,      // compact ìš”ì•½
    pub metadata: HashMap<String, Value>,
}

#[derive(Debug, Clone, Serialize, Deserialize)]
pub enum TaskStatus {
    Pending,
    Running,
    Completed,
    Failed,
    Cancelled,
}
```

### Session Archive
```rust
#[derive(Debug, Serialize, Deserialize)]
pub struct SessionArchive {
    pub id: Uuid,
    pub working_dir: PathBuf,
    pub started_at: DateTime<Utc>,
    pub ended_at: DateTime<Utc>,
    pub task_graph: DiGraph<TaskNode, TaskEdge>,
    pub summary: String,             // AI ìƒì„± ìš”ì•½
    pub tags: Vec<String>,
    pub metrics: SessionMetrics,
}

#[derive(Debug, Serialize, Deserialize)]
pub struct SessionMetrics {
    pub total_tasks: usize,
    pub successful_tasks: usize,
    pub failed_tasks: usize,
    pub total_duration: Duration,
    pub parallelism_factor: f32,     // í‰ê·  ë™ì‹œ ì‹¤í–‰ íƒœìŠ¤í¬ ìˆ˜
}
```

---

## ëª¨ë“ˆ êµ¬ì¡°

```
agterm/
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs                 # ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
â”‚   â”œâ”€â”€ app.rs                  # ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ
â”‚   â”œâ”€â”€ lib.rs                  # ë¼ì´ë¸ŒëŸ¬ë¦¬ ë£¨íŠ¸
â”‚   â”‚
â”‚   â”œâ”€â”€ tui/                    # UI ë ˆì´ì–´
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ app.rs              # TUI ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”‚   â”œâ”€â”€ layout.rs           # ë ˆì´ì•„ì›ƒ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ widgets/
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ task_tree.rs    # íƒœìŠ¤í¬ íŠ¸ë¦¬ ìœ„ì ¯
â”‚   â”‚   â”‚   â”œâ”€â”€ terminal.rs     # í„°ë¯¸ë„ ë·° ìœ„ì ¯
â”‚   â”‚   â”‚   â”œâ”€â”€ graph.rs        # ê·¸ë˜í”„ ì‹œê°í™” ìœ„ì ¯
â”‚   â”‚   â”‚   â””â”€â”€ status_bar.rs   # ìƒíƒœë°” ìœ„ì ¯
â”‚   â”‚   â””â”€â”€ theme.rs            # í…Œë§ˆ ì„¤ì •
â”‚   â”‚
â”‚   â”œâ”€â”€ terminal/               # í„°ë¯¸ë„ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ pty_pool.rs         # PTY í’€ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ session.rs          # í„°ë¯¸ë„ ì„¸ì…˜
â”‚   â”‚   â””â”€â”€ multiplexer.rs      # ë‹¤ì¤‘ í„°ë¯¸ë„ ê´€ë¦¬
â”‚   â”‚
â”‚   â”œâ”€â”€ orchestration/          # ì‘ì—… ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ task_manager.rs     # íƒœìŠ¤í¬ ìƒëª…ì£¼ê¸° ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ task_graph.rs       # íƒœìŠ¤í¬ ê·¸ë˜í”„ (petgraph)
â”‚   â”‚   â”œâ”€â”€ scheduler.rs        # ë³‘ë ¬ ì‹¤í–‰ ìŠ¤ì¼€ì¤„ëŸ¬
â”‚   â”‚   â””â”€â”€ event_bus.rs        # ì´ë²¤íŠ¸ ê¸°ë°˜ í†µì‹ 
â”‚   â”‚
â”‚   â”œâ”€â”€ mcp/                    # MCP í†µí•©
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ client.rs           # MCP í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ server_manager.rs   # MCP ì„œë²„ ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ skills.rs           # Skills ì‹œìŠ¤í…œ
â”‚   â”‚
â”‚   â”œâ”€â”€ archive/                # ì„¸ì…˜ ì•„ì¹´ì´ë¹™
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ storage.rs          # ì €ì¥ì†Œ ì¶”ìƒí™”
â”‚   â”‚   â”œâ”€â”€ compactor.rs        # ì¶œë ¥ ìš”ì•½/ì••ì¶•
â”‚   â”‚   â””â”€â”€ search.rs           # íˆìŠ¤í† ë¦¬ ê²€ìƒ‰
â”‚   â”‚
â”‚   â””â”€â”€ config/                 # ì„¤ì • ê´€ë¦¬
â”‚       â”œâ”€â”€ mod.rs
â”‚       â””â”€â”€ settings.rs         # ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •
â”‚
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ integration/
â”‚   â””â”€â”€ unit/
â”‚
â””â”€â”€ docs/
    â”œâ”€â”€ architecture.md
    â””â”€â”€ user_guide.md
```

---

## ê°œë°œ ë¡œë“œë§µ

### Phase 1: ê¸°ì´ˆ ì¸í”„ë¼ (v0.1.0)
- [ ] í”„ë¡œì íŠ¸ ì´ˆê¸°í™” (Cargo.toml, ê¸°ë³¸ êµ¬ì¡°)
- [ ] PTY í’€ êµ¬í˜„ (portable-pty ê¸°ë°˜)
- [ ] ê¸°ë³¸ TUI ë ˆì´ì•„ì›ƒ (ratatui)
- [ ] ë‹¨ì¼ í„°ë¯¸ë„ ì„¸ì…˜ ì§€ì›
- [ ] í‚¤ë³´ë“œ ì´ë²¤íŠ¸ í•¸ë“¤ë§

### Phase 2: ë©€í‹° í„°ë¯¸ë„ (v0.2.0)
- [ ] í„°ë¯¸ë„ ë¶„í• /ì¤‘ì²©
- [ ] íƒ­ ê¸°ë°˜ ê´€ë¦¬
- [ ] í¬ì»¤ìŠ¤ ì „í™˜
- [ ] ìë™ ì¢…ë£Œ ê°ì§€

### Phase 3: íƒœìŠ¤í¬ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ (v0.3.0)
- [ ] íƒœìŠ¤í¬ ê·¸ë˜í”„ êµ¬í˜„ (petgraph)
- [ ] ë³‘ë ¬ ì‹¤í–‰ ìŠ¤ì¼€ì¤„ëŸ¬
- [ ] íƒœìŠ¤í¬ íŠ¸ë¦¬ ìœ„ì ¯
- [ ] ì˜ì¡´ì„± ê¸°ë°˜ ì‹¤í–‰

### Phase 4: ì‹œê°í™” (v0.4.0)
- [ ] ê·¸ë˜í”„ ë·° ìœ„ì ¯
- [ ] ì‹¤ì‹œê°„ ì§„í–‰ë¥  í‘œì‹œ
- [ ] ë…¸ë“œ ìƒì„¸ ì •ë³´ íŒì—…
- [ ] ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼

### Phase 5: MCP í†µí•© (v0.5.0)
- [ ] MCP í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„ (rmcp)
- [ ] ì„œë²„ ì—°ê²° ê´€ë¦¬
- [ ] Tools/Resources í˜¸ì¶œ
- [ ] Skills ì‹œìŠ¤í…œ

### Phase 6: ì•„ì¹´ì´ë¹™ (v0.6.0)
- [ ] ì„¸ì…˜ ì €ì¥/ë³µì›
- [ ] ì¶œë ¥ ìš”ì•½ (compact)
- [ ] íˆìŠ¤í† ë¦¬ ê²€ìƒ‰
- [ ] ì»¨í…ìŠ¤íŠ¸ í™œìš©

### Phase 7: í´ë¦¬ì‹± (v1.0.0)
- [ ] í…Œë§ˆ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- [ ] ì„¤ì • íŒŒì¼ ì§€ì›
- [ ] ë¬¸ì„œí™”
- [ ] ì„±ëŠ¥ ìµœì í™”

---

## í•µì‹¬ ì›Œí¬í”Œë¡œìš°

### 1. ì‘ì—… ì‹œì‘ â†’ ë¶„ê¸° â†’ ë³‘í•©
```
User Request: "ë¹Œë“œí•˜ê³  í…ŒìŠ¤íŠ¸ ì‹¤í–‰í•´ì¤˜"
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Parse Task  â”‚ â”€â”€â”€â”€â”€â–º "build" + "test" ë¶„ë¦¬
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Spawn PTY 1 â”‚     â”‚ Spawn PTY 2 â”‚
â”‚   (build)   â”‚     â”‚   (test)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚
       â–¼                   â–¼
   [Running]           [Waiting]  â† build ì˜ì¡´ì„±
       â”‚                   â”‚
       â–¼                   â–¼
   [Complete] â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º [Running]
                          â”‚
                          â–¼
                      [Complete]
                          â”‚
                          â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ Archive &   â”‚
                   â”‚ Summarize   â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ì„¸ì…˜ ì•„ì¹´ì´ë¸Œ í™œìš©
```
[Previous Session Archive]
â”œâ”€â”€ ì‘ì—…: npm run build
â”œâ”€â”€ ê²°ê³¼: ì„±ê³µ (2m 34s)
â”œâ”€â”€ ì¶œë ¥ ìš”ì•½: "42 ëª¨ë“ˆ ì»´íŒŒì¼, 0 ì—ëŸ¬"
â””â”€â”€ ê´€ë ¨ íŒŒì¼: package.json, webpack.config.js

     â”‚
     â–¼ (ë‹¤ìŒ ì„¸ì…˜ì—ì„œ ì°¸ì¡°)

[New Session Context]
"ì´ì „ì— ë¹Œë“œí–ˆë˜ ì„¤ì •ì„ ê¸°ë°˜ìœ¼ë¡œ..."
```

---

## ì˜ì¡´ì„± (Cargo.toml)

```toml
[package]
name = "agterm"
version = "0.1.0"
edition = "2021"

[dependencies]
# TUI
ratatui = "0.29"
crossterm = "0.28"

# Terminal/PTY
portable-pty = "0.9"

# Async Runtime
tokio = { version = "1", features = ["full"] }

# MCP
rmcp = "0.1"

# Data Structures
petgraph = "0.7"
uuid = { version = "1", features = ["v4", "serde"] }
chrono = { version = "0.4", features = ["serde"] }

# Serialization
serde = { version = "1", features = ["derive"] }
serde_json = "1"
bincode = "1"

# Config
config = "0.14"
directories = "5"

# Logging
tracing = "0.1"
tracing-subscriber = "0.3"

# Error Handling
thiserror = "2"
anyhow = "1"
```

---

## ì°¸ê³  ìë£Œ

### í„°ë¯¸ë„ ì—ë®¬ë ˆì´í„°
- [WezTerm](https://github.com/wezterm/wezterm) - GPU ê°€ì† í„°ë¯¸ë„
- [Alacritty](https://github.com/alacritty/alacritty) - ë¯¸ë‹ˆë©€ ê³ ì„±ëŠ¥ í„°ë¯¸ë„
- [portable-pty](https://docs.rs/portable-pty) - í¬ë¡œìŠ¤ í”Œë«í¼ PTY

### TUI í”„ë ˆì„ì›Œí¬
- [ratatui](https://ratatui.rs/) - Rust TUI ë¼ì´ë¸ŒëŸ¬ë¦¬
- [ratatui Best Practices](https://github.com/ratatui/ratatui/discussions/220)

### MCP (Model Context Protocol)
- [Official Rust SDK (rmcp)](https://github.com/modelcontextprotocol/rust-sdk)
- [MCP Specification](https://modelcontextprotocol.io/)

### ê·¸ë˜í”„ ì‹œê°í™”
- [petgraph](https://github.com/petgraph/petgraph) - ê·¸ë˜í”„ ìë£Œêµ¬ì¡°
- [tui-nodes](https://lib.rs/crates/tui-nodes) - TUI ë…¸ë“œ ê·¸ë˜í”„

### ë¹„ë™ê¸° ì²˜ë¦¬
- [Tokio Tutorial](https://tokio.rs/tokio/tutorial)
- [Task Spawning](https://tokio.rs/tokio/tutorial/spawning)

---

## ë‹¤ìŒ ë‹¨ê³„

ì´ ê³„íšì„œë¥¼ ê²€í† í•˜ì‹  í›„ ìŠ¹ì¸í•´ ì£¼ì‹œë©´ Phase 1ë¶€í„° êµ¬í˜„ì„ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤.

êµ¬í˜„ ì „ ì¶”ê°€ë¡œ ë…¼ì˜ê°€ í•„ìš”í•œ ì‚¬í•­:
1. **í”„ë¡œì íŠ¸ ì´ë¦„**: "AgTerm" ë˜ëŠ” ë‹¤ë¥¸ ì´ë¦„ ì„ í˜¸?
2. **ìš°ì„ ìˆœìœ„**: ì–´ë–¤ ê¸°ëŠ¥ì„ ë¨¼ì € ë³´ê³  ì‹¶ìœ¼ì‹ ì§€?
3. **MCP ì„œë²„**: ê¸°ë³¸ìœ¼ë¡œ ì—°ê²°í•  MCP ì„œë²„ ëª©ë¡?
4. **ì•„ì¹´ì´ë¸Œ í˜•ì‹**: SQLite vs íŒŒì¼ ê¸°ë°˜ ì €ì¥?
